:root{--bg:#0b0c10;--txt:#e8eefc;--muted:#a9b4d0;--stroke:#ffffff18;--stroke2:#ffffff10;--accent:#3aa8ff;--shadow:0 18px 50px rgba(0,0,0,.55);--radius:18px;--safeTop:env(safe-area-inset-top);--safeBottom:env(safe-area-inset-bottom);--topbarH:52px;--taskbarH:72px;}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html,body{height:100%;}
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,system-ui,sans-serif;color:var(--txt);background:var(--bg);overflow:hidden;user-select:none;-webkit-user-select:none;}
.hidden{display:none!important;}
.boot{position:fixed;inset:0;display:grid;place-items:center;background:radial-gradient(1200px 800px at 30% 20%,rgba(58,168,255,.22),transparent 60%),radial-gradient(900px 700px at 70% 70%,rgba(155,70,255,.18),transparent 60%),var(--bg);z-index:9999;padding:24px;}
.bootCard{width:min(520px,94vw);padding:22px;border-radius:22px;background:rgba(18,20,32,.75);border:1px solid var(--stroke);box-shadow:var(--shadow);backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);}
.bootLogo{width:60px;height:60px;border-radius:18px;display:grid;place-items:center;font-weight:800;background:linear-gradient(135deg,rgba(58,168,255,.95),rgba(155,70,255,.85));color:#06101b;}
.bootTitle{margin-top:14px;font-size:22px;font-weight:700;}
.bootSub{margin-top:6px;color:var(--muted);font-size:13px;}
.bootBar{margin-top:16px;height:10px;border-radius:999px;background:rgba(255,255,255,.08);overflow:hidden;}
.bootBarIn{height:100%;width:35%;background:linear-gradient(90deg,rgba(58,168,255,.9),rgba(155,70,255,.85));border-radius:999px;animation:boot 1.3s ease-in-out infinite;}
@keyframes boot{0%{transform:translateX(-40%);}50%{transform:translateX(160%);}100%{transform:translateX(-40%);}}
.bootHint{margin-top:14px;font-size:12px;color:var(--muted);}
.os{position:fixed;inset:0;padding-top:var(--safeTop);padding-bottom:var(--safeBottom);}
.wallpaper{position:absolute;inset:0;background:#0b0c10;background-size:cover;background-position:center;filter:saturate(1.1) contrast(1.05);}
.wallpaper::after{content:"";position:absolute;inset:0;background:radial-gradient(900px 700px at 30% 10%,rgba(255,255,255,.09),transparent 55%),radial-gradient(1000px 800px at 70% 80%,rgba(0,0,0,.25),transparent 60%),linear-gradient(to bottom,rgba(0,0,0,.25),rgba(0,0,0,.55));}
.topbar{position:absolute;left:0;right:0;top:var(--safeTop);height:var(--topbarH);display:flex;align-items:center;gap:12px;padding:8px 12px;z-index:20;}
.tbBtn{height:40px;min-width:40px;border-radius:14px;border:1px solid var(--stroke2);background:rgba(18,20,32,.55);color:var(--txt);display:inline-flex;align-items:center;justify-content:center;box-shadow:0 10px 30px rgba(0,0,0,.25);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);}
.tbBtn:active{transform:translateY(1px);}
.tbTitle{flex:1;font-weight:650;color:rgba(232,238,252,.92);text-shadow:0 8px 20px rgba(0,0,0,.35);}
.tbRight{display:flex;align-items:center;gap:10px;}
.clock{padding:0 12px;font-variant-numeric:tabular-nums;}
.logoY{width:28px;height:28px;border-radius:10px;display:grid;place-items:center;font-weight:900;background:linear-gradient(135deg,rgba(58,168,255,.95),rgba(155,70,255,.85));color:#06101b;}
.logoY.sm{width:24px;height:24px;border-radius:9px;}
.ico{width:20px;height:20px;display:inline-block;}
.ico svg{width:20px;height:20px;}
.desktop{position:absolute;left:0;right:0;top:calc(var(--safeTop) + var(--topbarH) + 6px);bottom:calc(var(--safeBottom) + var(--taskbarH) + 10px);padding:14px;display:grid;grid-template-columns:repeat(auto-fill,minmax(92px,1fr));grid-auto-rows:96px;gap:10px;align-content:start;z-index:10;overflow:hidden;}
.icon{border-radius:16px;border:1px solid transparent;background:rgba(18,20,32,.35);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:10px;cursor:pointer;}
.icon:active{transform:translateY(1px);}
.icon:hover{border-color:rgba(255,255,255,.10);}
.iconImg{width:44px;height:44px;border-radius:14px;display:grid;place-items:center;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.10);}
.iconLbl{font-size:12px;text-align:center;color:rgba(232,238,252,.92);line-height:1.15;max-width:86px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.taskbar{position:absolute;left:0;right:0;bottom:var(--safeBottom);height:var(--taskbarH);z-index:30;display:flex;align-items:center;justify-content:center;pointer-events:none;}
.dock{pointer-events:auto;height:56px;width:min(860px,calc(100vw - 24px));display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:20px;background:rgba(18,20,32,.55);border:1px solid rgba(255,255,255,.10);box-shadow:var(--shadow);backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);}
.dockBtn{height:40px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.05);color:var(--txt);display:inline-flex;align-items:center;gap:8px;padding:0 10px;}
.dockTxt{font-size:12px;color:rgba(232,238,252,.92);}
.dockBtn:active{transform:translateY(1px);}
.dockRun{flex:1;display:flex;gap:8px;justify-content:flex-end;overflow:auto;padding:0 2px;}
.runChip{height:40px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.22);color:var(--txt);display:inline-flex;align-items:center;gap:8px;padding:0 10px;white-space:nowrap;}
.runDot{width:8px;height:8px;border-radius:999px;background:var(--accent);box-shadow:0 0 0 3px rgba(58,168,255,.18);}
.panel{position:absolute;left:12px;right:12px;top:calc(var(--safeTop) + var(--topbarH) + 8px);max-width:980px;margin:0 auto;border-radius:22px;background:rgba(18,20,32,.75);border:1px solid rgba(255,255,255,.12);box-shadow:var(--shadow);backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);z-index:40;overflow:hidden;}
.panelHdr{padding:14px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.10);font-weight:650;}
.panelBody{padding:14px;max-height:min(60vh,520px);overflow:auto;}
.pill{height:34px;padding:0 12px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:var(--txt);display:inline-flex;align-items:center;gap:8px;}
.startTop{padding:14px;border-bottom:1px solid rgba(255,255,255,.10);display:flex;align-items:center;gap:12px;}
.search{flex:1;height:38px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.20);color:var(--txt);padding:0 12px;outline:none;}
.startCols{display:grid;grid-template-columns:1.2fr .8fr;gap:14px;}
@media (max-width:840px){.startCols{grid-template-columns:1fr;}}
.colTitle{color:var(--muted);font-size:12px;margin-bottom:10px;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;}
.pin{border-radius:18px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.06);padding:12px;display:flex;align-items:center;gap:10px;}
.pinName{font-weight:650;}
.pinSub{font-size:12px;color:var(--muted);}
.list{display:flex;flex-direction:column;gap:8px;}
.item{padding:10px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.18);display:flex;align-items:center;gap:10px;}
.wmLayer{position:absolute;inset:0;z-index:25;pointer-events:none;}
.window{position:absolute;min-width:280px;width:min(520px,calc(100vw - 22px));height:min(520px,calc(100vh - 170px));border-radius:18px;background:rgba(17,21,33,.90);border:1px solid rgba(255,255,255,.14);box-shadow:var(--shadow);overflow:hidden;pointer-events:auto;display:flex;flex-direction:column;}
.winBar{height:44px;padding:0 10px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.15);cursor:grab;touch-action:none;}
.winTitle{display:flex;align-items:center;gap:10px;font-weight:650;}
.winBtns{display:flex;gap:8px;}
.winBtn{width:34px;height:34px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);color:var(--txt);display:grid;place-items:center;}
.winBtn:active{transform:translateY(1px);}
.winBody{flex:1;overflow:auto;padding:12px;}
.winBody.nopad{padding:0;}
.ctx{position:absolute;z-index:1000;min-width:220px;border-radius:16px;background:rgba(18,20,32,.88);border:1px solid rgba(255,255,255,.12);box-shadow:var(--shadow);overflow:hidden;}
.ctxItem{padding:12px;display:flex;align-items:center;gap:10px;border-bottom:1px solid rgba(255,255,255,.06);}
.ctxItem:last-child{border-bottom:none;}
.toast{position:absolute;left:12px;right:12px;bottom:calc(var(--safeBottom) + var(--taskbarH) + 10px);max-width:620px;margin:0 auto;padding:10px 12px;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.35);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:0 18px 60px rgba(0,0,0,.45);opacity:0;transform:translateY(8px);transition:opacity .18s ease,transform .18s ease;pointer-events:none;}
.toast.show{opacity:1;transform:translateY(0);}
textarea{width:100%;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.20);color:var(--txt);padding:10px 12px;outline:none;min-height:220px;}
